{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "SAI Actions Schema",
  "description": "Schema for SAI action files that define multiple software management operations",
  "type": "object",
  "properties": {
    "config": {
      "type": "object",
      "description": "Configuration options for the action execution",
      "properties": {
        "verbose": {
          "type": "boolean",
          "description": "Enable verbose output",
          "default": false
        },
        "dry_run": {
          "type": "boolean", 
          "description": "Show what would be done without executing",
          "default": false
        },
        "yes": {
          "type": "boolean",
          "description": "Assume yes for all prompts",
          "default": false
        },
        "quiet": {
          "type": "boolean",
          "description": "Suppress non-essential output", 
          "default": false
        },
        "timeout": {
          "type": "integer",
          "description": "Command timeout in seconds",
          "minimum": 1
        },
        "provider": {
          "type": "string",
          "description": "Force specific provider for all actions"
        },
        "parallel": {
          "type": "boolean",
          "description": "Execute actions in parallel when possible",
          "default": false
        },
        "continue_on_error": {
          "type": "boolean",
          "description": "Continue executing remaining actions if one fails",
          "default": false
        }
      },
      "additionalProperties": false
    },
    "actions": {
      "type": "object",
      "description": "Software management actions to execute",
      "properties": {
        "install": {
          "type": "array",
          "description": "Software packages to install",
          "items": {
            "oneOf": [
              {
                "type": "string",
                "description": "Simple software name"
              },
              {
                "type": "object",
                "description": "Software with options",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Software name"
                  },
                  "provider": {
                    "type": "string", 
                    "description": "Specific provider to use"
                  },
                  "timeout": {
                    "type": "integer",
                    "description": "Timeout for this specific action",
                    "minimum": 1
                  }
                },
                "required": ["name"],
                "additionalProperties": false
              }
            ]
          }
        },
        "uninstall": {
          "type": "array",
          "description": "Software packages to uninstall",
          "items": {
            "oneOf": [
              {
                "type": "string",
                "description": "Simple software name"
              },
              {
                "type": "object",
                "description": "Software with options",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Software name"
                  },
                  "provider": {
                    "type": "string",
                    "description": "Specific provider to use"
                  },
                  "timeout": {
                    "type": "integer",
                    "description": "Timeout for this specific action",
                    "minimum": 1
                  }
                },
                "required": ["name"],
                "additionalProperties": false
              }
            ]
          }
        },
        "start": {
          "type": "array",
          "description": "Services to start",
          "items": {
            "oneOf": [
              {
                "type": "string",
                "description": "Simple service name"
              },
              {
                "type": "object",
                "description": "Service with options",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Service name"
                  },
                  "provider": {
                    "type": "string",
                    "description": "Specific provider to use"
                  },
                  "timeout": {
                    "type": "integer",
                    "description": "Timeout for this specific action",
                    "minimum": 1
                  }
                },
                "required": ["name"],
                "additionalProperties": false
              }
            ]
          }
        },
        "stop": {
          "type": "array",
          "description": "Services to stop",
          "items": {
            "oneOf": [
              {
                "type": "string",
                "description": "Simple service name"
              },
              {
                "type": "object",
                "description": "Service with options",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Service name"
                  },
                  "provider": {
                    "type": "string",
                    "description": "Specific provider to use"
                  },
                  "timeout": {
                    "type": "integer",
                    "description": "Timeout for this specific action",
                    "minimum": 1
                  }
                },
                "required": ["name"],
                "additionalProperties": false
              }
            ]
          }
        },
        "restart": {
          "type": "array",
          "description": "Services to restart",
          "items": {
            "oneOf": [
              {
                "type": "string",
                "description": "Simple service name"
              },
              {
                "type": "object",
                "description": "Service with options",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Service name"
                  },
                  "provider": {
                    "type": "string",
                    "description": "Specific provider to use"
                  },
                  "timeout": {
                    "type": "integer",
                    "description": "Timeout for this specific action",
                    "minimum": 1
                  }
                },
                "required": ["name"],
                "additionalProperties": false
              }
            ]
          }
        }
      },
      "additionalProperties": false,
      "minProperties": 1
    }
  },
  "required": ["actions"],
  "additionalProperties": false
}